{% extends 'statsy/base.html' %}

{% load static from staticfiles %}

{% block script %}
    <script src="{% static 'statsy/app/js/dashboard.js' %}"></script>
{% endblock %}

{% block title %}
    Statsy | Dashboard
{% endblock %}

{% block content %}
    <h1>Overview</h1>
    <div class="row">
        <div class="statsy__chart">
            <div id="dashboardGroupContainer" data-url="{% url 'statsy.today_group_stats' %}"></div>
        </div>

        <div class="statsy__group_list">
        Groups:
        {% for group in groups %}
            <div class="statsy__group">
{#                <a href="{% url 'statsy.group' group.name %}">{{ group }}</a>#}
                <a href="#">{{ group }}</a>
            </div>
        {% endfor %}
        </div>

        <div class="statsy__chart">
            <div id="dashboardEventContainer" data-url="{% url 'statsy.today_event_stats' %}"></div>
        </div>

        <div class="statsy__event_list">
        Events:
        {% for event in events %}
            <div class="statsy__event">
{#                <a href="{% url 'statsy.event' event.name %}">{{ event }}</a>#}
                <a href="#">{{ event }}</a>
            </div>
        {% endfor %}
        </div>

        <table class="table">
        </table>

        <div class="statsy__last_stats">
            <table class="table table-hover">
                <thead>
                    <h4>Most recent stats:</h4>
                    <th>Group</th>
                    <th>Event</th>
                    <th>Value</th>
                    <th>Time</th>
                </thead>
                <tbody>
                    {% for stats in last_stats %}
                        <tr>

                            <td>{{ stats.group }}</td>
                            <td>{{ stats.event }}</td>
                            <td>{{ stats.value }}</td>
                            <td>{{ stats.created_at|date:"H:i:s" }}</td>
                        </tr>
                    {% endfor %}
                </tbody>

                <tfoot>
                    <td colspan="4">...</td>
                </tfoot>
            </table>
        </div>
    </div>
{% endblock %}
